25-07-09.15:45:40.758 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 28984 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.15:45:40.759 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.15:45:41.524 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.15:45:41.532 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.15:45:41.532 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.15:45:41.532 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.15:45:41.698 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.15:45:41.698 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 908 ms
25-07-09.15:45:41.878 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'aliPayController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.alipay.api.AlipayClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@javax.annotation.Resource(shareable=true, lookup=, name=, description=, authenticationType=CONTAINER, type=class java.lang.Object, mappedName=)}
25-07-09.15:45:41.880 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-07-09.15:45:41.886 [main            ] INFO  ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
25-07-09.15:45:41.927 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean of type 'com.alipay.api.AlipayClient' that could not be found.


Action:

Consider defining a bean of type 'com.alipay.api.AlipayClient' in your configuration.

25-07-09.15:47:19.661 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 50084 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.15:47:19.662 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.15:47:20.221 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.15:47:20.226 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.15:47:20.226 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.15:47:20.226 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.15:47:20.333 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.15:47:20.333 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
25-07-09.15:47:21.127 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.15:47:21.138 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.15:47:21.144 [main            ] INFO  Application            - Started Application in 1.727 seconds (JVM running for 2.361)
25-07-09.15:52:17.216 [http-nio-8080-exec-2] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.15:52:17.216 [http-nio-8080-exec-2] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.15:52:17.217 [http-nio-8080-exec-2] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-09.15:52:17.271 [http-nio-8080-exec-2] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.15:52:17.286 [http-nio-8080-exec-2] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.15:52:17.457 [http-nio-8080-exec-2] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.15:52:17.555 [http-nio-8080-exec-2] ERROR AliPayController       - 商品下单，根据商品ID创建支付单失败 userId:guoxushiwoer productId:guoxushiwoer
java.lang.NullPointerException: null
	at online.noqiokweb.domain.order.service.OrderService.doPrePayOrder(OrderService.java:50)
	at online.noqiokweb.domain.order.service.AbstractOrderService.createPayOrder(AbstractOrderService.java:63)
	at online.noqiokweb.trigger.http.AliPayController.createPayOrder(AliPayController.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-07-09.15:57:37.492 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.15:57:37.510 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.16:00:48.142 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 54016 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.16:00:48.145 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.16:00:48.907 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.16:00:48.913 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.16:00:48.914 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.16:00:48.914 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.16:00:49.058 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.16:00:49.058 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 878 ms
25-07-09.16:00:51.154 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.16:00:51.219 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.16:00:51.239 [main            ] INFO  Application            - Started Application in 3.445 seconds (JVM running for 4.306)
25-07-09.16:06:04.244 [http-nio-8080-exec-5] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.16:06:04.244 [http-nio-8080-exec-5] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.16:06:04.245 [http-nio-8080-exec-5] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-09.16:06:04.474 [http-nio-8080-exec-5] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.16:06:04.531 [http-nio-8080-exec-5] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.16:06:05.131 [http-nio-8080-exec-5] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.16:07:02.343 [http-nio-8080-exec-5] ERROR AliPayController       - 商品下单，根据商品ID创建支付单失败 userId:guoxushiwoer productId:guoxushiwoer
java.lang.NullPointerException: null
	at online.noqiokweb.domain.order.service.OrderService.doPrePayOrder(OrderService.java:50)
	at online.noqiokweb.domain.order.service.AbstractOrderService.createPayOrder(AbstractOrderService.java:63)
	at online.noqiokweb.trigger.http.AliPayController.createPayOrder(AliPayController.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-07-09.16:12:34.970 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.16:12:34.981 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.16:12:39.102 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 9036 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.16:12:39.106 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.16:12:39.883 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.16:12:39.890 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.16:12:39.890 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.16:12:39.890 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.16:12:40.050 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.16:12:40.050 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 906 ms
25-07-09.16:12:42.085 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.16:12:42.142 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.16:12:42.157 [main            ] INFO  Application            - Started Application in 3.414 seconds (JVM running for 4.147)
25-07-09.16:12:55.924 [http-nio-8080-exec-2] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.16:12:55.924 [http-nio-8080-exec-2] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.16:12:55.924 [http-nio-8080-exec-2] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-09.16:12:56.110 [http-nio-8080-exec-2] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.16:12:56.160 [http-nio-8080-exec-2] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.16:12:56.647 [http-nio-8080-exec-2] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.16:12:59.207 [http-nio-8080-exec-2] INFO  AbstractOrderService   - 创建订单-完成，生成支付单。userId: guoxushiwoer orderId: 9339694648174415 payUrl: <form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=Sh%2FJ%2FhnXaZ%2F3lBoJO42Fjlru5OSjp77CLoGdaXbiHdtQylH2FOS5xOYC3v0B6NAb3F%2F7rbf6Mqr4XlPF6Z%2FfIvSevqFBBUD1fOnCuAA5xZuO1vetRL5uOmXWGKgtE4XMswC9KA5GWJyer7d8DWto8OF3SunBba5BljFRxtEg3GJ9hx%2FiUmbIfcWm4CYRE0%2BOLMrfSCp2B5WDu6KhUtjT%2FbX4lxh1JxcS5T62EnS%2FN4Okrv3SO3NI%2FsCylnSqar3gfqoiYbzMiJZtOJ4mIwMS5TSUnFplYW98WEwkS9n%2BfJZUFTzEVykJYD9J5t%2B5A%2F2uIJS0vZtAWwk2caw1zlxv1A%3D%3D&return_url=https%3A%2F%2Fgaga.plus&notify_url=http%3A%2F%2Fnoqiokweb.online%3A8080%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09+16%3A12%3A59&alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;9339694648174415&quot;,&quot;total_amount&quot;:&quot;1.68&quot;,&quot;subject&quot;:&quot;测试商品&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
25-07-09.16:12:59.209 [http-nio-8080-exec-2] INFO  AliPayController       - 商品下单，根据商品ID创建支付单完成 userId:guoxushiwoer productId:88888 orderId:9339694648174415
25-07-09.16:15:27.367 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.16:15:27.377 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.16:15:33.053 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 56812 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.16:15:33.055 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.16:15:33.640 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.16:15:33.644 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.16:15:33.644 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.16:15:33.644 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.16:15:33.751 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.16:15:33.751 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 672 ms
25-07-09.16:15:34.473 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.16:15:34.484 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.16:15:34.489 [main            ] INFO  Application            - Started Application in 1.688 seconds (JVM running for 2.38)
25-07-09.16:15:48.410 [http-nio-8080-exec-1] INFO  Http11Processor        - Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
java.lang.IllegalArgumentException: Invalid character found in method name [0x040x010x00P0x000x000x000x010x00example.com0x00...]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:407)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:263)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-07-09.16:20:05.282 [http-nio-8080-exec-4] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.16:20:05.282 [http-nio-8080-exec-4] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.16:20:05.283 [http-nio-8080-exec-4] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-09.16:23:54.766 [http-nio-8080-exec-9] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.16:23:54.779 [http-nio-8080-exec-9] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.16:23:54.884 [http-nio-8080-exec-9] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.16:23:54.992 [http-nio-8080-exec-9] INFO  AbstractOrderService   - 创建订单-完成，生成支付单。userId: guoxushiwoer orderId: 7543041485136770 payUrl: <form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=i1VxsDqdRc9W4tIToi82xh6pVsvcI%2FCgNN%2BlGMjOBxOCowZYuqnHvHED0WEGfhiyUQj2VpIRR%2BfqNPn%2FBR7WvImLGJaA4FJumbzYYM9qgkAUZYOpeyYCzBTtZ4ulVG0o%2Bv6Vr3SR%2Faq%2BPtYT%2BC3zwRJ%2FzJLH4%2FemjYTIC0iWwGadobAYYLBO8yKg4LV8t12U6xN87TBEItoKEkLA2%2FL9G9h0V3cGAma00vkzinB5QIGO4keN5AciHZzQWILjarB3D962vel%2B%2BcsBuedTH4PW1omtScdIJw00OUnEeLTnmMCDDL2z1RqmIxISi7RidlKoL5wF94r%2BkNMpGqDaY2Tpuw%3D%3D&return_url=https%3A%2F%2Fgaga.plus&notify_url=http%3A%2F%2Fnoqiokweb.online%3A8080%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09+16%3A23%3A54&alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;7543041485136770&quot;,&quot;total_amount&quot;:&quot;1.68&quot;,&quot;subject&quot;:&quot;测试商品&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
25-07-09.16:23:54.993 [http-nio-8080-exec-9] INFO  AliPayController       - 商品下单，根据商品ID创建支付单完成 userId:guoxushiwoer productId:88888 orderId:7543041485136770
25-07-09.17:41:04.256 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m8s268ms77µs900ns).
25-07-09.17:58:11.100 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.17:58:11.105 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.17:58:20.872 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 29776 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.17:58:20.874 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.17:58:21.468 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.17:58:21.472 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.17:58:21.473 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.17:58:21.473 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.17:58:21.581 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.17:58:21.582 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 682 ms
25-07-09.17:58:21.620 [main            ] WARN  AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'aliPayController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-domain\target\classes\online\noqiokweb\domain\order\service\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'online.noqiokweb.domain.order.adapter.event.PaySuccessMessageEvent' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@javax.annotation.Resource(shareable=true, lookup=, name=, description=, authenticationType=CONTAINER, type=class java.lang.Object, mappedName=)}
25-07-09.17:58:21.621 [main            ] INFO  StandardService        - Stopping service [Tomcat]
25-07-09.17:58:21.629 [main            ] INFO  ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
25-07-09.17:58:21.641 [main            ] ERROR LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in online.noqiokweb.domain.order.service.OrderService required a bean of type 'online.noqiokweb.domain.order.adapter.event.PaySuccessMessageEvent' that could not be found.


Action:

Consider defining a bean of type 'online.noqiokweb.domain.order.adapter.event.PaySuccessMessageEvent' in your configuration.

25-07-09.17:59:09.330 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 17768 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.17:59:09.332 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.17:59:09.926 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.17:59:09.931 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.17:59:09.931 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.17:59:09.931 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.17:59:10.041 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.17:59:10.041 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 688 ms
25-07-09.17:59:10.823 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.17:59:10.832 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.17:59:10.840 [main            ] INFO  Application            - Started Application in 1.763 seconds (JVM running for 2.396)
25-07-09.17:59:19.056 [http-nio-8080-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.17:59:19.056 [http-nio-8080-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.17:59:19.057 [http-nio-8080-exec-1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-07-09.18:00:00.014 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.18:00:00.029 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.18:00:00.150 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.18:00:00.171 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 任务：超时30分钟订单关闭
25-07-09.18:00:00.172 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 无超时订单
25-07-09.18:00:19.950 [http-nio-8080-exec-6] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.18:00:20.043 [http-nio-8080-exec-6] INFO  AbstractOrderService   - 创建订单-完成，生成支付单。userId: guoxushiwoer orderId: 9677045941392570 payUrl: <form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=Y120dqlClvMhoZQgKU6a9xiMvlAezDSObbe2fPaJtuHRdHwSVYjDwT4adKk5W%2Bc1TToXbWYKeWtxaFZqfATZkUsKEq1TR48jZPdr1kPeNrapqowpH1J%2FWaBMkgE5Ob0NLV6aaIsqF5Z8SwwpeBi8QP04qlxKojvnyOV7QUAKQfaj2vVz7WUXkv3DBVZI9I9EL4S1dKDsl6ewIauhzLm7dUKByZzgrQ5aaDwnY2u5RnmFeWAz9CcBIysqbvgU7NvmHoVdu54htb0Md9Jf0W2vTXX%2FN%2BnhGwegh6JAgihjIqEVBpUdwkrObkaJaBsVZRFpcmSqMh21E0MjbWX1S4vzEA%3D%3D&return_url=https%3A%2F%2Fgaga.plus&notify_url=http%3A%2F%2Fnoqiokweb.online%3A8080%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09+18%3A00%3A20&alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;9677045941392570&quot;,&quot;total_amount&quot;:&quot;1.68&quot;,&quot;subject&quot;:&quot;测试商品&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
25-07-09.18:00:20.044 [http-nio-8080-exec-6] INFO  AliPayController       - 商品下单，根据商品ID创建支付单完成 userId:guoxushiwoer productId:88888 orderId:9677045941392570
25-07-09.18:01:51.486 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，消息接收 TRADE_SUCCESS
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，交易名称: 测试商品
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，交易状态: TRADE_SUCCESS
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，支付宝交易凭证号: 2025070922001451460507057310
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，商户订单号: 9677045941392570
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，交易金额: 1.68
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，买家在支付宝唯一id: 2088722071851463
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，买家付款时间: 2025-07-09 18:01:46
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，买家付款金额: 1.68
25-07-09.18:01:51.488 [http-nio-8080-exec-8] INFO  AliPayController       - 支付回调，支付回调，更新订单 9677045941392570
25-07-09.18:02:37.281 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.18:02:37.290 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.19:49:27.515 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 10936 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.19:49:27.516 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.19:49:28.351 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.19:49:28.357 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.19:49:28.357 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.19:49:28.357 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.19:49:28.533 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.19:49:28.533 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 985 ms
25-07-09.19:49:29.473 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.19:49:29.485 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.19:49:29.493 [main            ] INFO  Application            - Started Application in 2.321 seconds (JVM running for 3.044)
25-07-09.19:49:36.175 [http-nio-8080-exec-7] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.19:49:36.176 [http-nio-8080-exec-7] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.19:49:36.176 [http-nio-8080-exec-7] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-09.19:49:36.227 [http-nio-8080-exec-7] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:guoxushiwoer productId:guoxushiwoer
25-07-09.19:49:36.243 [http-nio-8080-exec-7] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.19:49:36.409 [http-nio-8080-exec-7] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.19:49:36.540 [http-nio-8080-exec-7] INFO  AbstractOrderService   - 创建订单-完成，生成支付单。userId: guoxushiwoer orderId: 2736672968529756 payUrl: <form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=CXlS9T7S0EeH5%2BOOlqeAj0vLGriX8VXyWuesxoAWgVNT0NEdwfTgUZTFyok4EsK02w7DIy4Wc55TNFnyFRYJQ3%2BvNdzTCxzdOxNI%2F4Cltl9HOGJO1VJ5dLr5sZ4nY0bU%2FfhtGcrTMEfipgNw%2FlQ9KbKihnCpaMZW2HveHbIAPHrmbltPnh8dsdDZDFxkdqkFMSj6khGrzWnDntiHYAmJ5AT6NZneQHaCANhnCvlGLNL7T0sZxfjaEJEyvAFnNFBY9wfDjH1bZRt6sDmiDXcf31maKMDlijKVpHcUvPxVEL7hxF%2BMQzChbvK2TnTpJ9ZLNJ6Dy%2FavS1pVM%2BFWkjw3%2BQ%3D%3D&return_url=https%3A%2F%2Fgaga.plus&notify_url=http%3A%2F%2Fnoqiokweb.online%3A8080%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09+19%3A49%3A36&alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;2736672968529756&quot;,&quot;total_amount&quot;:&quot;1.68&quot;,&quot;subject&quot;:&quot;测试商品&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
25-07-09.19:49:36.541 [http-nio-8080-exec-7] INFO  AliPayController       - 商品下单，根据商品ID创建支付单完成 userId:guoxushiwoer productId:88888 orderId:2736672968529756
25-07-09.19:50:00.012 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 任务：超时30分钟订单关闭
25-07-09.19:50:00.015 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 无超时订单
25-07-09.19:51:00.009 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.19:51:01.078 [scheduling-1    ] INFO  info                   - Summary^_^10000^_^null^_^ProtocalMustParams:charset=utf-8&method=alipay.trade.query&sign=LJn988cOoJKUqWBLac6d7lzDZIOc6hGhZeQyLjb/IRRrCO3tQ1JYpfCDsD2lCE60n565Fq2BtK1ethJIFmb63ttwwaJjnpJmIWVPXG2O2jkHRPIDUL+6UmPGg+PAFiY9vDrl0AI4/d15UToORKTihLZ/VV58lJyyHY/Wbf5C0onzPP0kgwBzJOgMoVVzmiFmPuH+9HVwtNzp9Ql9kMFBK5+IiiEq3h8LFT2VvEfuZ8yxgSwoJKiwGwCS2VFgKYDT+XWIpijBD/Kh3/K3MxpBOUmNIfKB9Ik3Edd0LVqsMyFM0LJdh46RAiyFWVwzrLGcCu9w72v8lNaXpHxfIxNUCg==&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09 19:51:00^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json^_^ApplicationParams:biz_content={"out_trade_no":"2736672968529756"}^_^12ms,1029ms,21ms^_^trace_id:0601d58b1752061860538355016565
25-07-09.19:51:01.097 [scheduling-1    ] INFO  OrderPaySuccessListener - 支付成功消息 PaySuccessMessageEvent.PaySuccessMessage(orderId=null, tradeNo=2736672968529756),可以做接下来的事情，如：发货，充值，开会员，返利
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，消息接收 TRADE_SUCCESS
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，交易名称: 测试商品
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，交易状态: TRADE_SUCCESS
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，支付宝交易凭证号: 2025070922001451460507059580
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，商户订单号: 2736672968529756
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，交易金额: 1.68
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，买家在支付宝唯一id: 2088722071851463
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，买家付款时间: 2025-07-09 19:51:08
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，买家付款金额: 1.68
25-07-09.19:51:13.069 [http-nio-8080-exec-4] INFO  AliPayController       - 支付回调，支付回调，更新订单 2736672968529756
25-07-09.19:51:13.085 [http-nio-8080-exec-4] INFO  OrderPaySuccessListener - 支付成功消息 PaySuccessMessageEvent.PaySuccessMessage(orderId=null, tradeNo=2736672968529756),可以做接下来的事情，如：发货，充值，开会员，返利
25-07-09.19:54:00.008 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.19:55:31.819 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.19:55:31.827 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-09.20:04:54.930 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 49164 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-09.20:04:54.931 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-09.20:04:55.511 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-09.20:04:55.519 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-09.20:04:55.519 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-09.20:04:55.519 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-09.20:04:55.630 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-09.20:04:55.630 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 679 ms
25-07-09.20:04:56.499 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-09.20:04:56.509 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-09.20:04:56.511 [main            ] INFO  Application            - Started Application in 1.843 seconds (JVM running for 2.482)
25-07-09.20:06:00.010 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:06:00.023 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-07-09.20:06:00.122 [scheduling-1    ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-07-09.20:06:17.195 [http-nio-8080-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-07-09.20:06:17.195 [http-nio-8080-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-07-09.20:06:17.196 [http-nio-8080-exec-1] INFO  DispatcherServlet      - Completed initialization in 0 ms
25-07-09.20:06:21.434 [http-nio-8080-exec-2] INFO  LoginController        - 生成微信扫码登录,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA
25-07-09.20:06:24.446 [http-nio-8080-exec-3] INFO  LoginController        - 扫码检测登录结果,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA,openid:null
25-07-09.20:06:27.446 [http-nio-8080-exec-5] INFO  LoginController        - 扫码检测登录结果,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA,openid:null
25-07-09.20:06:30.449 [http-nio-8080-exec-6] INFO  LoginController        - 扫码检测登录结果,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA,openid:null
25-07-09.20:06:33.444 [http-nio-8080-exec-7] INFO  LoginController        - 扫码检测登录结果,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA,openid:null
25-07-09.20:06:33.508 [http-nio-8080-exec-8] INFO  WeixinPortalController - 接收微信公众号信息请求oK8L37H4HmFwOswxZovoID5fhldo开始 <xml><ToUserName><![CDATA[gh_e7d4b764df16]]></ToUserName>
<FromUserName><![CDATA[oK8L37H4HmFwOswxZovoID5fhldo]]></FromUserName>
<CreateTime>1752062793</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[SCAN]]></Event>
<EventKey><![CDATA[100601]]></EventKey>
<Ticket><![CDATA[gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA]]></Ticket>
</xml>
25-07-09.20:06:34.786 [http-nio-8080-exec-9] INFO  WeixinPortalController - 接收微信公众号信息请求oK8L37H4HmFwOswxZovoID5fhldo开始 <xml><ToUserName><![CDATA[gh_e7d4b764df16]]></ToUserName>
<FromUserName><![CDATA[oK8L37H4HmFwOswxZovoID5fhldo]]></FromUserName>
<CreateTime>1752062794</CreateTime>
<MsgType><![CDATA[event]]></MsgType>
<Event><![CDATA[TEMPLATESENDJOBFINISH]]></Event>
<MsgID>4067980336292904965</MsgID>
<Status><![CDATA[success]]></Status>
</xml>
25-07-09.20:06:36.448 [http-nio-8080-exec-2] INFO  LoginController        - 扫码检测登录结果,ticket:gQFR7zwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyYXh2dk1tSDJmVEkxSVpFbGhFMVcAAgQ9W25oAwQAjScA,openid:oK8L37H4HmFwOswxZovoID5fhldo
25-07-09.20:06:41.250 [http-nio-8080-exec-4] INFO  AliPayController       - 商品下单，根据商品ID创建支付单开始 userId:oK8L37H4HmFwOswxZovoID5fhldo productId:oK8L37H4HmFwOswxZovoID5fhldo
25-07-09.20:06:41.338 [http-nio-8080-exec-4] INFO  AbstractOrderService   - 创建订单-完成，生成支付单。userId: oK8L37H4HmFwOswxZovoID5fhldo orderId: 6486666317580237 payUrl: <form name="punchout_form" method="post" action="https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&method=alipay.trade.page.pay&sign=bTC62qWYX7QRc5CjwbZIXGzaxlRX2o8B656qXr5oQIhl7iiydTMYBouaavLwnusWMD85E5EqbX2NoJaf%2FxTlRikUrBu2k9VA7mgjXZ4pOlbCQOtawBV2Idv7EZIO4TAK136h1tEwdskPpyNrn2oneZVpMQ6bNgW%2B8MM6QBCHLGNZWxK6%2F2RCy05Pap9GVVMc3q2Diiej%2FHsc4hx%2B5PKU7kx4U%2B%2FC8P0F5SCkAzpgv6McUGc556uAXesjYIgfwsQVlvQSeozuz%2Ba76BW1Y1svNdw%2BjXj2A3bR9Ui0%2Bpu%2FTvz%2FmyHkwOX9FnLajK%2BDEwTWB20HrzdKOgL1N50IkBLmAg%3D%3D&return_url=https%3A%2F%2Fgaga.plus&notify_url=http%3A%2F%2Fnoqiokweb.online%3A8080%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&version=1.0&app_id=9021000149697872&sign_type=RSA2&timestamp=2025-07-09+20%3A06%3A41&alipay_sdk=alipay-sdk-java-4.38.157.ALL&format=json">
<input type="hidden" name="biz_content" value="{&quot;out_trade_no&quot;:&quot;6486666317580237&quot;,&quot;total_amount&quot;:&quot;1.68&quot;,&quot;subject&quot;:&quot;测试商品&quot;,&quot;product_code&quot;:&quot;FAST_INSTANT_TRADE_PAY&quot;}">
<input type="submit" value="立即支付" style="display:none" >
</form>
<script>document.forms[0].submit();</script>
25-07-09.20:06:41.340 [http-nio-8080-exec-4] INFO  AliPayController       - 商品下单，根据商品ID创建支付单完成 userId:oK8L37H4HmFwOswxZovoID5fhldo productId:1000100900910524 orderId:6486666317580237
25-07-09.20:07:16.073 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，消息接收 TRADE_SUCCESS
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，交易名称: 测试商品
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，交易状态: TRADE_SUCCESS
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，支付宝交易凭证号: 2025070922001451460507062397
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，商户订单号: 6486666317580237
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，交易金额: 1.68
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，买家在支付宝唯一id: 2088722071851463
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，买家付款时间: 2025-07-09 20:07:11
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，买家付款金额: 1.68
25-07-09.20:07:16.074 [http-nio-8080-exec-5] INFO  AliPayController       - 支付回调，支付回调，更新订单 6486666317580237
25-07-09.20:07:16.092 [http-nio-8080-exec-5] INFO  OrderPaySuccessListener - 支付成功消息 PaySuccessMessageEvent.PaySuccessMessage(orderId=null, tradeNo=6486666317580237),可以做接下来的事情，如：发货，充值，开会员，返利
25-07-09.20:09:00.006 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:10:00.008 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 任务：超时30分钟订单关闭
25-07-09.20:10:00.010 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 无超时订单
25-07-09.20:12:00.005 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:15:00.005 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:18:00.013 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:20:00.005 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 任务：超时30分钟订单关闭
25-07-09.20:20:00.007 [scheduling-1    ] INFO  TimeoutCloseOrderJob   - 无超时订单
25-07-09.20:21:00.014 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:24:00.003 [scheduling-1    ] INFO  NoPayNotifyOrderJob    - 任务；检测未接收到或未正确处理的支付回调通知
25-07-09.20:24:51.259 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-07-09.20:24:51.268 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-07-25.15:57:41.763 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 20824 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-25.15:57:41.764 [main            ] INFO  Application            - The following 1 profile is active: "prod"
25-07-25.15:57:42.459 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-25.15:57:42.465 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-25.15:57:42.466 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-25.15:57:42.466 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-25.15:57:42.593 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-25.15:57:42.593 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 800 ms
25-07-25.15:57:43.271 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-25.15:57:43.281 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-25.15:57:43.289 [main            ] INFO  Application            - Started Application in 1.803 seconds (JVM running for 2.358)
25-07-25.15:57:54.177 [main            ] INFO  Application            - Starting Application using Java 1.8.0_391 on DESKTOP-A10TBER with PID 30144 (E:\IdeaPorjects\ddd\s-pay-mall-ddd\s-pay-mall-ddd-app\target\classes started by TheLastSavior in E:\IdeaPorjects\ddd\s-pay-mall-ddd)
25-07-25.15:57:54.179 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-07-25.15:57:54.763 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8080 (http)
25-07-25.15:57:54.767 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8080"]
25-07-25.15:57:54.768 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-07-25.15:57:54.768 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-07-25.15:57:54.874 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-07-25.15:57:54.874 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 672 ms
25-07-25.15:57:55.535 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8080"]
25-07-25.15:57:55.546 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8080 (http) with context path ''
25-07-25.15:57:55.552 [main            ] INFO  Application            - Started Application in 1.622 seconds (JVM running for 2.187)
